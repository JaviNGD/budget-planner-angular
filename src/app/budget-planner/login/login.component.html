<main>
    <div class="login-container">
        <!-- Login -->
        <form *ngIf="activeForm === 'login'" [formGroup]="loginForm" (ngSubmit)="login()">
            <h2>Login</h2>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" formControlName="email">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" formControlName="password">
            </div>
            <button type="submit">Login</button>
            <p>
                Don't have an account? <span (click)="toggleForm('register')"> Register</span>
            </p>
        </form>

        <!-- Register -->
        <form *ngIf="activeForm === 'register'" [formGroup]="registerForm" (ngSubmit)="register()">
            <h2>Register</h2>
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" formControlName="name">
                <p *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.hasError('required')" class="error">
                    Name is required
                </p>
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" formControlName="lastName">
                <p *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.hasError('required')" class="error">
                    Last name is required
                </p>
            </div>
            <div class="form-group" >
                <label for="email">Email</label>
                <input type="email" formControlName="email">
                <p *ngIf="registerForm.get('email')?.hasError('email')" class="error">
                    Invalid email
                </p>
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" formControlName="password">
                <p *ngIf="registerForm.get('password')?.hasError('minlength')" class="error">
                    Password must be at least 6 characters long
                </p>
            </div>
            <button type="submit">Register</button>
            <p>
                Already have an account? <span (click)="toggleForm('login')"> Login</span> 
            </p>
        </form>
    </div>
</main>
